<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Silicon Labs Connect API Reference: For the EZR32 and EFR32 SoC Platforms</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td><img src="SiliconLabsLogo_Black.jpg" style="padding: 10px;width:40%;height:40%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Silicon Labs Connect API Reference: For the EZR32 and EFR32 SoC Platforms
   &#160;<span id="projectnumber">Silicon Labs 1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ota__bootloader__server.htm','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ota Bootloader Server Plugin</div>  </div>
<div class="ingroups"><a class="el" href="group__silabs__connect__af.htm">Silicon Labs Connect Application Framework API Reference</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad315fe2599bdb2e82b5d76a5d3acb545"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#gad315fe2599bdb2e82b5d76a5d3acb545">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a></td></tr>
<tr class="separator:gad315fe2599bdb2e82b5d76a5d3acb545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1dcd19c32d3547c050cf22c1683033fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga1dcd19c32d3547c050cf22c1683033fa">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</a></td></tr>
<tr class="separator:ga1dcd19c32d3547c050cf22c1683033fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad806d0a571053ea4dab558cab7001616"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#gad806d0a571053ea4dab558cab7001616">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</a></td></tr>
<tr class="separator:gad806d0a571053ea4dab558cab7001616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa263d03fc817001d769aa3b2d2d9e834"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#gaa263d03fc817001d769aa3b2d2d9e834">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</a></td></tr>
<tr class="separator:gaa263d03fc817001d769aa3b2d2d9e834"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga023947df221361a377a35df4f7c6c372"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga023947df221361a377a35df4f7c6c372">emberAfPluginOtaBootloaderServerInitiateImageDistribution</a> (uint32_t imageSize, uint8_t imageTag, <a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength)</td></tr>
<tr class="separator:ga023947df221361a377a35df4f7c6c372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7eb09858fa6eb3a983950655d6f42835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga7eb09858fa6eb3a983950655d6f42835">emberAfPluginBootloaderServerInitiateRequestTargetsStatus</a> (<a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength, uint8_t applicationServerStatus)</td></tr>
<tr class="separator:ga7eb09858fa6eb3a983950655d6f42835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafba2878d19ccaf300c8576b5604d71c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#gaafba2878d19ccaf300c8576b5604d71c">emberAfPluginBootloaderServerInitiateRequestTargetsBootload</a> (uint32_t bootloadDelayMs, uint8_t imageTag, <a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *targetList, uint16_t targetListLength)</td></tr>
<tr class="separator:gaafba2878d19ccaf300c8576b5604d71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83bad82e6c7594384111b6d5a4033654"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.htm#ga118e60a6d284c13b8db7f7e950814402">EmberAfOtaBootloaderTargetStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga83bad82e6c7594384111b6d5a4033654">emberAfPluginBootloaderServerGetTargetStatus</a> (<a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> targetId, uint8_t *applicationTargetStatus)</td></tr>
<tr class="separator:ga83bad82e6c7594384111b6d5a4033654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59adabec04340391bffc7bc42338b827"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga59adabec04340391bffc7bc42338b827">emberAfPluginOtaBootloaderServerAbortCurrentProcess</a> (void)</td></tr>
<tr class="separator:ga59adabec04340391bffc7bc42338b827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8729e38e9b7958d475a9feaa59198e65"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga8729e38e9b7958d475a9feaa59198e65">emberAfPluginOtaBootloaderServerGetImageSegmentCallback</a> (uint32_t startIndex, uint32_t endIndex, uint8_t imageTag, uint8_t *imageSegment)</td></tr>
<tr class="separator:ga8729e38e9b7958d475a9feaa59198e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga708f7a80391ec05ba32c3870e5e619fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga708f7a80391ec05ba32c3870e5e619fa">emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="separator:ga708f7a80391ec05ba32c3870e5e619fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36e09f8f976e676ccdecc40adda5f2e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga36e09f8f976e676ccdecc40adda5f2e5">emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="separator:ga36e09f8f976e676ccdecc40adda5f2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67154ca11a7ba27ebaaf3fc9ff8149cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__bootloader__server.htm#ga67154ca11a7ba27ebaaf3fc9ff8149cb">emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback</a> (<a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> status)</td></tr>
<tr class="separator:ga67154ca11a7ba27ebaaf3fc9ff8149cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>See <a class="el" href="ota-bootloader-server_8h.htm">ota-bootloader-server.h</a> for source code. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gad315fe2599bdb2e82b5d76a5d3acb545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_STACK_ERRORS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive stack message submission errors or stack related errors such as CCA failures after which the plugin will give up. </p>

<p>Definition at line <a class="el" href="ota-bootloader-server_8h_source.htm#l00018">18</a> of file <a class="el" href="ota-bootloader-server_8h_source.htm">ota-bootloader-server.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1dcd19c32d3547c050cf22c1683033fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_UNICAST_ERRORS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of consecutive unicast attempts after which a target shall be declared unreachable. Legal values for this are in the [0,7] range. </p>

<p>Definition at line <a class="el" href="ota-bootloader-server_8h_source.htm#l00024">24</a> of file <a class="el" href="ota-bootloader-server_8h_source.htm">ota-bootloader-server.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad806d0a571053ea4dab558cab7001616"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_RESPONSE_TIMEOUT_MS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The time in milliseconds after which the server gives up waiting for a response from a client. </p>

<p>Definition at line <a class="el" href="ota-bootloader-server_8h_source.htm#l00030">30</a> of file <a class="el" href="ota-bootloader-server_8h_source.htm">ota-bootloader-server.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa263d03fc817001d769aa3b2d2d9e834"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum number of image broadcast rounds the server shall perform before declaring an image distribution process failed. </p>

<p>Definition at line <a class="el" href="ota-bootloader-server_8h_source.htm#l00036">36</a> of file <a class="el" href="ota-bootloader-server_8h_source.htm">ota-bootloader-server.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga023947df221361a377a35df4f7c6c372"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginOtaBootloaderServerInitiateImageDistribution </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>imageSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for initiating the image distribution process. The application can use the <a class="el" href="group__ota__bootloader__server.htm#ga83bad82e6c7594384111b6d5a4033654" title="An API for retrieving the status of an individual target in the distribution list.">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the image distribution process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageSize</td><td>The image size in bytes to be distributed.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag that will be embedded in the server-to-client over-the-air messages. The application can use the image tag for versioning purposes and/or for distinguishing between different image types.</td></tr>
    <tr><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce" title="802.15.4 node ID.">EmberNodeId</a> indicating the node IDs of the target devices.</td></tr>
    <tr><td class="paramname">targetListLength</td><td>The length of the passed target list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if the image distribution is successfully initiated. If this is the case, the ::emberAfPluginOtaBootloaderServerDistributionCompletedCallback() callback shall be invoked when the distribution process has terminated.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba59a1bd070bd8d66c3b7f8654f699bcc1">EMBER_OTA_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba67e69540bd7603faa7ff53f0d46109f8">EMBER_OTA_BOOTLOADER_STATUS_BUSY</a> if the server is already performing another image distribution or some other over-the-air process.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9bac3a2802dae2f8cb23aae8237fac73c4e">EMBER_OTA_BOOTLOADER_STATUS_NO_BUFFERS</a> if the server currently has no enough RAM to store the passed target list. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga7eb09858fa6eb3a983950655d6f42835"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginBootloaderServerInitiateRequestTargetsStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>applicationServerStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for initiating the process of requesting the status of a set of target devices. The application can use the <a class="el" href="group__ota__bootloader__server.htm#ga83bad82e6c7594384111b6d5a4033654" title="An API for retrieving the status of an individual target in the distribution list.">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the target status request process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce" title="802.15.4 node ID.">EmberNodeId</a> indicating the node IDs of the target devices that shall be queried for their status.</td></tr>
    <tr><td class="paramname">targetListLength</td><td>The length of the passed target list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if the plugin successfully initiated the process of requesting the status of a set of targets. If this is the case, the corresponding callback <a class="el" href="group__ota__bootloader__server.htm#ga36e09f8f976e676ccdecc40adda5f2e5" title="A callback invoked by the OTA Bootloader Server plugin when bootload request process has completed...">emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback()</a> shall be invoked when the request process to all targets has completed.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba59a1bd070bd8d66c3b7f8654f699bcc1">EMBER_OTA_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba67e69540bd7603faa7ff53f0d46109f8">EMBER_OTA_BOOTLOADER_STATUS_BUSY</a> if the server is currently involved in another over-the-air process. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaafba2878d19ccaf300c8576b5604d71c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginBootloaderServerInitiateRequestTargetsBootload </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bootloadDelayMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> *&#160;</td>
          <td class="paramname"><em>targetList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>targetListLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for initiating the process of requesting a set of target devices to initiate the bootload of a received image some time in the future. The application can use the <a class="el" href="group__ota__bootloader__server.htm#ga83bad82e6c7594384111b6d5a4033654" title="An API for retrieving the status of an individual target in the distribution list.">emberAfPluginBootloaderServerGetTargetStatus()</a> API at any time during the bootload request process to check the status of each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bootloadDelayMs</td><td>The delay in milliseconds after which all the targets should be perform an image bootload.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag that identifies the image to be bootloaded at the target devices.</td></tr>
    <tr><td class="paramname">targetList</td><td>An array of <a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce" title="802.15.4 node ID.">EmberNodeId</a> indicating the node IDs of the target devices that shall be requested to bootload an image.</td></tr>
    <tr><td class="paramname">targetListLength</td><td>The length of the passed target list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if the plugin successfully initiated the process of requesting a set of targets to initiate a bootload. If this is the case, the corresponding callback <a class="el" href="group__ota__bootloader__server.htm#ga67154ca11a7ba27ebaaf3fc9ff8149cb" title="A callback invoked by the OTA Bootloader Server plugin when a bootload request process has completed...">emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback()</a> shall be invoked when the request process to all targets has completed.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba59a1bd070bd8d66c3b7f8654f699bcc1">EMBER_OTA_BOOTLOADER_STATUS_INVALID_CALL</a> if some of the passed parameters are invalid.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba67e69540bd7603faa7ff53f0d46109f8">EMBER_OTA_BOOTLOADER_STATUS_BUSY</a> if the server is currently involved in another over-the-air process. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga83bad82e6c7594384111b6d5a4033654"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.htm#ga118e60a6d284c13b8db7f7e950814402">EmberAfOtaBootloaderTargetStatus</a> emberAfPluginBootloaderServerGetTargetStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.htm#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>applicationTargetStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for retrieving the status of an individual target in the distribution list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>The node ID of the target device whose status is being requested.</td></tr>
    <tr><td class="paramname">applicationTargetStatus</td><td>The application status reported by the client side application. This parameter is valid only for certain return status codes (see return status documentation).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.htm#ga118e60a6d284c13b8db7f7e950814402" title="Ota Bootloader target status codes.">EmberAfOtaBootloaderTargetStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a3074938ecb3ea509a186c396bf46e249">EMBER_OTA_BOOTLOADER_TARGET_STATUS_INVALID</a> if the passed node ID does not appear in the current server target list of the current ongoing process or if there is no current ongoing process.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a6512f79e3fe74086e2adea0a61942771">EMBER_OTA_BOOTLOADER_TARGET_STATUS_UNREACHABLE</a> if the target has not responded to any of the server's unicast messages.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402ad5121f42a1c01e491a1dcc4467854476">EMBER_OTA_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_COMPLETED</a> if the server is currently performing an image distribution process and the target has confirmed that it has received the full image.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a492bcf9312ee80f2a268e6467c586a95">EMBER_OTA_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_ONGOING</a> if the server is currently performing an image distribution process and the target has partially received the image and distribution is continuing.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402adbdee0f9947777a2cb610f3b36c200e8">EMBER_OTA_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_REFUSED</a> if the target has refused the current image.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402aacd6a440f1970a2f00a8c345865f128c">EMBER_OTA_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_FAILED</a> if the server is currently performing an image distribution process and the target reported that an error was encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a0d0a641898d23432442b900435fc42ea">EMBER_OTA_BOOTLOADER_TARGET_STATUS_DISTRIBUTION_ABORTED</a> if the server is currently performing an image distribution process and the target decided to abort the image download process. In this case, the client also reports an application status (thus the applicationTargetStatus parameter is valid).</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402aceadb99dc632aea0a712dbfdf35e20cf">EMBER_OTA_BOOTLOADER_TARGET_STATUS_STATUS_REQUEST_COMPLETED</a> if the server is currently performing a target status request process and the target has responded to the server's inquiry. In this case, the client also reports an application status (thus the applicationTargetStatus parameter is valid).</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402acf4586eb3d109f4cea1cd8b9d8aa044c">EMBER_OTA_BOOTLOADER_TARGET_STATUS_STATUS_REQUEST_ONGOING</a> if the server is currently performing a target status request process and the target has not been queried by the server yet.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a0f3221b4458665679abdfa4bd3fc736a">EMBER_OTA_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_ACCEPTED</a> is the server is currently performing a bootload request process and the target has accepted to perform the requested image bootload.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a5c4d3acd80c750ebf1b112a25efc7f4a">EMBER_OTA_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_REFUSED</a> is the server is currently performing a bootload request process and the target has refused to perform the requested image bootload.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#gga118e60a6d284c13b8db7f7e950814402a5e14b3c2d44ac65a1a73143f5a40b6e2">EMBER_OTA_BOOTLOADER_TARGET_STATUS_BOOTLOAD_REQUEST_ONGOING</a> is the server is currently performing a bootload request process and the target has not been reached by the server yet. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga59adabec04340391bffc7bc42338b827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a> emberAfPluginOtaBootloaderServerAbortCurrentProcess </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for aborting the ongoing process (image distribution, status request or bootload request). Notice that aborting a bootload request process would likely result in some targets performing the bootload while some others won't. </p>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if the current ongoing process was successfully aborted.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba59a1bd070bd8d66c3b7f8654f699bcc1">EMBER_OTA_BOOTLOADER_STATUS_INVALID_CALL</a> if the server is not currently involved in any process. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga8729e38e9b7958d475a9feaa59198e65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginOtaBootloaderServerGetImageSegmentCallback </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>endIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageSegment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Bootloader Server plugin during an image distribution process to retrieve a contiguous segment of the image being distributed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startIndex</td><td>The index of first byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramname">endIndex</td><td>The index of the last byte the application should copy into the passed array.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag of the image for which a segment is being requested.</td></tr>
    <tr><td class="paramname">imageSegment</td><td>An array of (endIndex - startIndex + 1) length to which the application should copy the requested image segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A boolean indicating whether the application successfully copied the requested bytes into the passed array. If the application returns FALSE, the OTA Server plugin shall abort the ongoing distribution process. </dd></dl>

</div>
</div>
<a class="anchor" id="ga708f7a80391ec05ba32c3870e5e619fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaBootloaderServerImageDistributionCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Bootloader Server plugin when the image distribution process is terminated. The application can use the <a class="el" href="group__ota__bootloader__server.htm#ga83bad82e6c7594384111b6d5a4033654" title="An API for retrieving the status of an individual target in the distribution list.">emberAfPluginBootloaderServerGetTargetStatus()</a> API to retrieve the status reported by each target device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if all the targets have confirmed that the full image was has received, except for those that have been declared "unreachable".</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9bab32c64f131235f839975ca838d10ea81">EMBER_OTA_BOOTLOADER_STATUS_DATA_UNDERFLOW</a> if the application failed to supply the requested image segments.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9baf9313d89d33f24d6b2b7eebaa90c1cd9">EMBER_OTA_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server shall give up the image distribution process if <a class="el" href="group__ota__bootloader__server.htm#gad315fe2599bdb2e82b5d76a5d3acb545" title="The number of consecutive stack message submission errors or stack related errors such as CCA failure...">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba843cf9471865eed06a3f3a535a301256">EMBER_OTA_BOOTLOADER_STATUS_FAILED</a> if the distribution process terminated prematurely because all targets have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9baea25d80aaf64dafca72e5b04fb95ff28">EMBER_OTA_BOOTLOADER_STATUS_TIMEOUT</a> if the server performed all the allowable broadcast rounds and there are still missing segments at one or more targets. The maximum allowable rounds is defined by <a class="el" href="group__ota__bootloader__server.htm#gaa263d03fc817001d769aa3b2d2d9e834" title="The maximum number of image broadcast rounds the server shall perform before declaring an image distr...">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_BROADCAST_ROUNDS</a>.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9bac00a0b70d8b4a3e91715b4f3a86b6e96">EMBER_OTA_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current image distribution process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga36e09f8f976e676ccdecc40adda5f2e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginBootloaderServerRequestTargetsStatusCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Bootloader Server plugin when bootload request process has completed. Within this callback, the application should use the ::emberAfPluginBoootloaderServerGetTargetStatus() API to retrieve the status and application status reported by each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if all the targets have been queried for their status. Notice that some targets might have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9baf9313d89d33f24d6b2b7eebaa90c1cd9">EMBER_OTA_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server shall give up the targets status request process if <a class="el" href="group__ota__bootloader__server.htm#gad315fe2599bdb2e82b5d76a5d3acb545" title="The number of consecutive stack message submission errors or stack related errors such as CCA failure...">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9bac00a0b70d8b4a3e91715b4f3a86b6e96">EMBER_OTA_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current targets status request process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga67154ca11a7ba27ebaaf3fc9ff8149cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginBootloaderServerRequestTargetsBootloadCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b">EmberAfOtaBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Bootloader Server plugin when a bootload request process has completed. Within this callback, the application should use the ::emberAfPluginBoootloaderServerGetTargetStatus() API to retrieve the status and the application status reported by each target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>An <a class="el" href="group__ota__bootloader__common.htm#gac36608b8807aaef08394730728c12a9b" title="Ota Bootloader return status codes.">EmberAfOtaBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9ba01f128f6147cdeb41e2fb5457a4de9dd">EMBER_OTA_BOOTLOADER_STATUS_SUCCESS</a> if all the targets have been requested to perform a bootload. Notice that some targets might have been declared unreachable.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9baf9313d89d33f24d6b2b7eebaa90c1cd9">EMBER_OTA_BOOTLOADER_STATUS_STACK_ERROR</a> if the server encountered multiple consecutive transmission errors. The Server shall give up the bootload request process if <a class="el" href="group__ota__bootloader__server.htm#gad315fe2599bdb2e82b5d76a5d3acb545" title="The number of consecutive stack message submission errors or stack related errors such as CCA failure...">EMBER_AF_PLUGIN_OTA_BOOTLOADER_SERVER_MAX_STACK_ERRORS</a> consecutive transmission errors are encountered.</li>
<li><a class="el" href="group__ota__bootloader__common.htm#ggac36608b8807aaef08394730728c12a9bac00a0b70d8b4a3e91715b4f3a86b6e96">EMBER_OTA_BOOTLOADER_STATUS_ABORTED</a> if the application aborted the current bootload request process. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<table border="0" cellspacing="0" cellpadding="0" width=100%>
<tr>
<td><address><small>
Silicon Labs Connect API Reference: For the EZR32 and EFR32 SoC Platforms. Silicon Labs 1.0.
</small></address>
</td>
<td align="right">
<address><small>
</small></address>
</td>
</tr>
</table>
</body>
</html>
