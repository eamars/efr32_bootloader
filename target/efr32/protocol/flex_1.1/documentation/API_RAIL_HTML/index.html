<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RAIL: RAIL Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RAIL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">RAIL Library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Silicon Labs Radio Abstraction Interface Layer (RAIL) is a library that can be used as a generic interface for all Silicon Labs radio parts. By programming against this API you are able to write code that easily ports across different radio parts while having access to hardware acceleration wherever possible.</p>
<h1>Introduction</h1>
<p>The RAIL library is as standalone as it can be with few external dependencies. To build applications using it we recommend using Simplicity Studio's application builder since it will simplify the process but that is not required. Depending on the hardware platform that you're using you may be required to provide certain HAL functionality for the library to work properly. These functions should be covered in the section of the guide for your hardware platform and valid implementations of them can be found as a part of the emlib/emdrv HAL layers that we provide. It is recommended that you use these versions for maximum support, but you're free to re-implement them if necessary.</p>
<h1>Using RAIL</h1>
<h2>Features</h2>
<p>At a high level the functionality supported by RAIL is shown below. For more specifics on the APIs and how to use them see the module documentation.</p>
<ul>
<li><a class="el" href="group___general.html">General</a><ul>
<li>Initialize the RAIL API layer and perform basic radio state transitions.</li>
<li>Configure automatic radio state transitions and transition timings</li>
<li>Enable RF energy sensing of specified duration across the 2.4 GHz and/or Sub-GHz bands (EFR32 only).</li>
</ul>
</li>
<li><a class="el" href="group___radio___configuration.html">Radio_Configuration</a><ul>
<li>Configure the radio frequency, packet format, channel configuration and other PHY parameters.</li>
<li>Query current PHY data rates and parameters like current channel.</li>
</ul>
</li>
<li><a class="el" href="group___memory___management.html">Memory_Management</a><ul>
<li>Integrate RAILs memory management callbacks with your upper layer to give us some place to put a received packet.</li>
</ul>
</li>
<li><a class="el" href="group___data___management.html">Data_Management</a><ul>
<li>Allows the application to choose the type of data and the method of data interaction through RAIL.</li>
</ul>
</li>
<li><a class="el" href="group___receive.html">Receive</a><ul>
<li>Start receive.</li>
<li>Configure receive status callbacks.</li>
<li>Enable and configure <a class="el" href="group___address___filtering.html">Address_Filtering</a> for each packet.</li>
</ul>
</li>
<li><a class="el" href="group___transmit.html">Transmit</a><ul>
<li>Load and send packet data.</li>
<li>Configure transmit status callbacks.</li>
<li>Configure advanced <a class="el" href="group___pre-_transmit.html">Pre-Transmit</a> hooks for scheduled transmit, CSMA, and LBT.</li>
</ul>
</li>
<li><a class="el" href="group___system___timing.html">System_Timing</a><ul>
<li>Get the current time in the RAIL timebase.</li>
<li>Configure a timer to call you back after an absolute or relative delay.</li>
</ul>
</li>
<li><a class="el" href="group___auto___ack.html">Auto_Ack</a><ul>
<li>Configure the radio for automatic acknowledgements</li>
<li>Load the auto ack payload</li>
</ul>
</li>
<li><a class="el" href="group___diagnostic.html">Diagnostic</a><ul>
<li>Output debug signals like an unmodulated tone and a continuously modulated stream of data.</li>
<li>Configure crystal tuning for your radio.</li>
<li>Bit error rate testing functionality</li>
</ul>
</li>
<li><a class="el" href="group___calibration.html">Calibration</a><ul>
<li>APIs for handling various radio calibrations for optimal performance.</li>
</ul>
</li>
</ul>
<p>Protocol specific hardware acceleration:</p>
<ul>
<li><a class="el" href="group___i_e_e_e802__15__4.html">IEEE802_15_4</a><ul>
<li>Configure the IEEE802.15.4 2.4GHz PHY</li>
<li>Configure node address and address filtering for IEEE 802.15.4</li>
<li>Configure auto ack for IEEE 802.15.4</li>
</ul>
</li>
<li><a class="el" href="group___b_l_e.html">BLE</a><ul>
<li>Configure the Bluetooth Low Energy 1Mbit PHY</li>
<li>Preamble, sync word and whitening adjustment function for connections</li>
</ul>
</li>
</ul>
<h2>Getting Started Example</h2>
<p>Below is a simple example to show you how to initialize the RAIL library in your application. Notice that this requires radio, frame, and channel configurations which can be generated from the radio calculator in Simplicity Studio. By default RAIL interacts with data on a per-packet basis; for more information refer to <a class="el" href="group___data___management.html">Data_Management</a>.</p>
<p><em>Note: Before initializing the radio, make sure the PA is initalized for your platform. This is covered in the Hardware Specific Configuration section below</em></p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_r_a_i_l___init__t.html">RAIL_Init_t</a> railInitParams = {</div>
<div class="line">  APP_MAX_PACKET_LENGTH,  <span class="comment">// UNUSED - Will be removed in a future RAIL version</span></div>
<div class="line">  RAIL_RF_XTAL_FREQ,      <span class="comment">// in Hz, so this is 38400000 on the EFR32</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_r_a_i_l___cal_init__t.html">RAIL_CalInit_t</a> railCalInitParams = {</div>
<div class="line">  <a class="code" href="group___e_f_r32.html#ga6b753959c0e1acec5cd338cdf2e775ba">RAIL_CAL_ALL</a>,           <span class="comment">// Run all possible calibrations for this chip</span></div>
<div class="line">  irCalConfig,            <span class="comment">// Settings specific to IR calibration</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Initialize the radio out of startup so that it&#39;s ready to receive</span></div>
<div class="line"><span class="keywordtype">int</span> radioInitialize(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Initialize the RAIL library and any internal state it requires</span></div>
<div class="line">  <a class="code" href="group___general.html#ga4fe25d5f78dbb5c788ba6a51064f04f5">RAIL_RfInit</a>(&amp;railInitParams);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Initialize calibration settings</span></div>
<div class="line">  <a class="code" href="group___calibration.html#gacc37e69f65b2f86db439b8b3883c7d53">RAIL_CalInit</a>(&amp;railCalInitParams);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Apply the selected RADIO configuration</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group___radio___configuration.html#gabfb97cd8be0677e83fc9eeba94d79190">RAIL_RadioConfig</a>((<span class="keywordtype">void</span>*)configList[0])) {</div>
<div class="line">    <span class="comment">// Error: Could not apply the radio configuration</span></div>
<div class="line">    <span class="keywordflow">while</span>(1);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Set us to a valid channel for this config</span></div>
<div class="line">  <a class="code" href="group___radio___configuration.html#ga80f476090048ec13f9fb3323c1afca28">RAIL_ChannelConfig</a>(channelConfigs[0]);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Configure a few error callbacks and enable appended info in the returned</span></div>
<div class="line">  <span class="comment">// output structure</span></div>
<div class="line">  <a class="code" href="group___receive.html#ga99af66a229cf9c160e6affa392e908e7">RAIL_RxConfig</a>((  <a class="code" href="group___receive.html#ga870c5a0dd28ade80d1ad301014dbfada">RAIL_RX_CONFIG_INVALID_CRC</a></div>
<div class="line">                 | <a class="code" href="group___receive.html#gaa8cb39981ceea8259093ac69ba664b49">RAIL_RX_CONFIG_ADDRESS_FILTERED</a>),</div>
<div class="line">                <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Set automatic transitions to always receive once started</span></div>
<div class="line">  <a class="code" href="group___general.html#ga521c7c029e1695b28ce3c22319c49438">RAIL_SetRxTransitions</a>(<a class="code" href="group___general.html#ggac15e22c67d9646e2d577a237686c9942ad6d1d63238187dd8a8d47b4453e3f046">RAIL_RF_STATE_RX</a>, <a class="code" href="group___general.html#ggac15e22c67d9646e2d577a237686c9942ad6d1d63238187dd8a8d47b4453e3f046">RAIL_RF_STATE_RX</a>,</div>
<div class="line">                        <a class="code" href="group___receive.html#gada2bdc47014d7ff5cb95c2a6ddce4e56">RAIL_IGNORE_NO_ERRORS</a>);</div>
<div class="line">  <a class="code" href="group___general.html#gae366d52d4ac8163e9551199edc8d0afb">RAIL_SetTxTransitions</a>(<a class="code" href="group___general.html#ggac15e22c67d9646e2d577a237686c9942ad6d1d63238187dd8a8d47b4453e3f046">RAIL_RF_STATE_RX</a>, <a class="code" href="group___general.html#ggac15e22c67d9646e2d577a237686c9942ad6d1d63238187dd8a8d47b4453e3f046">RAIL_RF_STATE_RX</a>);</div>
<div class="line">}</div>
</div><!-- fragment --><h2>Required Callbacks</h2>
<p>The RAIL library requires the application code to implement some callback functions for handling events. The full list of these callbacks is provided below, but be sure to consult their documentation for more information about what they specifically are.</p>
<div class="fragment"><div class="line"><a class="code" href="group___general.html#gaf6d0eafacc8d6a5dc61091c37ba097b9">RAILCb_RfReady</a>()</div>
<div class="line"><a class="code" href="group___transmit.html#ga7938b6f2aae34fd6eadb077989b696c8">RAILCb_TxPacketSent</a>()</div>
<div class="line"><a class="code" href="group___transmit.html#ga71bd8a141153924d1b5dbff6935c7166">RAILCb_TxRadioStatus</a>()</div>
<div class="line"><a class="code" href="group___receive.html#gac7097f4d704df33f93bd95b5af6318d5">RAILCb_RxPacketReceived</a>()</div>
<div class="line"><a class="code" href="group___receive.html#gacf46bd51a5b3285f5e00725080d754a9">RAILCb_RxRadioStatus</a>() or <a class="code" href="group___receive.html#ga235865785489a376f92c6a019b857e87">RAILCb_RxRadioStatusExt</a>()</div>
<div class="line"><a class="code" href="group___calibration.html#ga0bba03efcc5f21c29b74775f6f257361">RAILCb_CalNeeded</a>()</div>
<div class="line"><a class="code" href="group___debug.html#gafd56d5d6ac4c056d3a91dae7770e0b11">RAILCb_RadioStateChanged</a>()</div>
<div class="line"><a class="code" href="group___memory___management.html#ga2028542bcfd123ee6da1c6f51a6769bc">RAILCb_AllocateMemory</a>()</div>
<div class="line"><a class="code" href="group___memory___management.html#ga88e5f0da9a6542ea07595f8f11ba776c">RAILCb_BeginWriteMemory</a>()</div>
<div class="line"><a class="code" href="group___memory___management.html#ga846a2317ace667dbb2b70acb473d816e">RAILCb_EndWriteMemory</a>()</div>
<div class="line"><a class="code" href="group___memory___management.html#ga04f525285e2c6fc2e7266d6c3a14f417">RAILCb_FreeMemory</a>()</div>
<div class="line"><a class="code" href="group___system___timing.html#ga98f0949a85502e4aaa74c92d2d14ed75">RAILCb_TimerExpired</a>()</div>
<div class="line"><a class="code" href="group___auto___ack.html#ga3d1243e2d65e45b96e2e9e3dc5f104fa">RAILCb_RxAckTimeout</a>()</div>
<div class="line"><a class="code" href="group___i_e_e_e802__15__4.html#gaffeeaddfe230ef29cdfe43c37cbd2581">RAILCb_IEEE802154_DataRequestCommand</a>()</div>
<div class="line"><a class="code" href="group___data___management.html#ga8db0718741a3dca51d29fdc8f3ebd0d7">RAILCb_TxFifoAlmostEmpty</a>()</div>
<div class="line"><a class="code" href="group___data___management.html#gabe7910f39f461caf4cf915915b8736ad">RAILCb_RxFifoAlmostFull</a>()</div>
</div><!-- fragment --><h1>Hardware Specific Configuration</h1>
<p>For information about configuration and setup that is specific to your hardware platform be sure to take a look at the pages below.</p>
<p><a class="el" href="efr32_main.html">EFR32</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Apr 7 2017 16:17:15 for RAIL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
