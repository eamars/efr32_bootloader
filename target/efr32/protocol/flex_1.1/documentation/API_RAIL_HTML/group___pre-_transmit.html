<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RAIL: Pre-Transmit</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RAIL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___pre-_transmit.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Pre-Transmit<div class="ingroups"><a class="el" href="group___transmit.html">Transmit</a> &#124; <a class="el" href="group___r_a_i_l___a_p_i.html">RAIL_API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>APIs for pre-transmit operations (Scheduling, CSMA, LBT, ...)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___schedule_tx_config__t.html">RAIL_ScheduleTxConfig_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to configure the Scheduled Tx algorithm.  <a href="struct_r_a_i_l___schedule_tx_config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___csma_config__t.html">RAIL_CsmaConfig_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to configure the CSMA algorithm.  <a href="struct_r_a_i_l___csma_config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___lbt_config__t.html">RAIL_LbtConfig_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to configure the LBT algorithm.  <a href="struct_r_a_i_l___lbt_config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad94172cf1b18d35919be1fc67d4ef505"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad94172cf1b18d35919be1fc67d4ef505"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#gad94172cf1b18d35919be1fc67d4ef505">RAIL_MAX_LBT_TRIES</a>&#160;&#160;&#160;15</td></tr>
<tr class="memdesc:gad94172cf1b18d35919be1fc67d4ef505"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum number of LBT/CSMA retries supported. <br/></td></tr>
<tr class="separator:gad94172cf1b18d35919be1fc67d4ef505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga723f70db2d74870534d253c57508f547"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga723f70db2d74870534d253c57508f547">RAIL_CSMA_CONFIG_802_15_4_2003_2p4_GHz_OQPSK_CSMA</a></td></tr>
<tr class="memdesc:ga723f70db2d74870534d253c57508f547"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> initializer configuring CSMA per 802.15.4-2003 on 2.4 GHz OSPSK, commonly used by ZigBee.  <a href="#ga723f70db2d74870534d253c57508f547">More...</a><br/></td></tr>
<tr class="separator:ga723f70db2d74870534d253c57508f547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01aa44d571fea60db1b10612ce87f086"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga01aa44d571fea60db1b10612ce87f086">RAIL_CSMA_CONFIG_SINGLE_CCA</a></td></tr>
<tr class="memdesc:ga01aa44d571fea60db1b10612ce87f086"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> initializer configuring a single CCA prior to Tx.  <a href="#ga01aa44d571fea60db1b10612ce87f086">More...</a><br/></td></tr>
<tr class="separator:ga01aa44d571fea60db1b10612ce87f086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab19d74918a167aaeb17de9f5c54cea57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#gab19d74918a167aaeb17de9f5c54cea57">RAIL_LBT_CONFIG_ETSI_EN_300_220_1_V2_4_1</a></td></tr>
<tr class="memdesc:gab19d74918a167aaeb17de9f5c54cea57"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_r_a_i_l___lbt_config__t.html" title="This structure is used to configure the LBT algorithm. ">RAIL_LbtConfig_t</a> initializer configuring LBT per ETSI 300 220-1 V2.4.1 for a typical Sub-GHz band.  <a href="#gab19d74918a167aaeb17de9f5c54cea57">More...</a><br/></td></tr>
<tr class="separator:gab19d74918a167aaeb17de9f5c54cea57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga924f5133ef4b5bbbf131bc0ef7996a33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga924f5133ef4b5bbbf131bc0ef7996a33"></a>
typedef uint8_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga924f5133ef4b5bbbf131bc0ef7996a33">RAIL_PreTxOp_t</a> )(void *params)</td></tr>
<tr class="memdesc:ga924f5133ef4b5bbbf131bc0ef7996a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic type used for all configurable pre-transmit operation functions. <br/></td></tr>
<tr class="separator:ga924f5133ef4b5bbbf131bc0ef7996a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac233d3f019d6653f8dfc9d2040101b88"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#gac233d3f019d6653f8dfc9d2040101b88">RAIL_ScheduleTx</a> (void *params)</td></tr>
<tr class="memdesc:gac233d3f019d6653f8dfc9d2040101b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a packet on a schedule, instead of immediately.  <a href="#gac233d3f019d6653f8dfc9d2040101b88">More...</a><br/></td></tr>
<tr class="separator:gac233d3f019d6653f8dfc9d2040101b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ee3e9d4bde55e579f122304a6ff57e8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga7ee3e9d4bde55e579f122304a6ff57e8">RAIL_CcaCsma</a> (void *params)</td></tr>
<tr class="memdesc:ga7ee3e9d4bde55e579f122304a6ff57e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use CSMA instead of ignoring current usage of the channel.  <a href="#ga7ee3e9d4bde55e579f122304a6ff57e8">More...</a><br/></td></tr>
<tr class="separator:ga7ee3e9d4bde55e579f122304a6ff57e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ddf1f3ab8cad54abe9ae7d22f278fa6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga3ddf1f3ab8cad54abe9ae7d22f278fa6">RAIL_CcaLbt</a> (void *params)</td></tr>
<tr class="memdesc:ga3ddf1f3ab8cad54abe9ae7d22f278fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen to the channel before sending a message.  <a href="#ga3ddf1f3ab8cad54abe9ae7d22f278fa6">More...</a><br/></td></tr>
<tr class="separator:ga3ddf1f3ab8cad54abe9ae7d22f278fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38cf04e1e8ef9ea4107c07b4c4b4900d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___pre-_transmit.html#ga38cf04e1e8ef9ea4107c07b4c4b4900d">RAIL_SetCcaThreshold</a> (int8_t ccaThresholdDbm)</td></tr>
<tr class="memdesc:ga38cf04e1e8ef9ea4107c07b4c4b4900d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the CCA threshold in dBm.  <a href="#ga38cf04e1e8ef9ea4107c07b4c4b4900d">More...</a><br/></td></tr>
<tr class="separator:ga38cf04e1e8ef9ea4107c07b4c4b4900d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>APIs for pre-transmit operations (Scheduling, CSMA, LBT, ...) </p>
<p>There are many operation that you can want to happen before a transmit. In RAIL these are configurable via Pre-Transmit hooks. You are free to use your own custom hooks, but there are several provided hooks to help with common use cases. The provided hooks will use the hardware as efficiently as possible which typically means that they do not introduce any software time overhead.</p>
<p>Here's a simple example of how to use a scheduled transmit to send a packet 1 ms after right now.</p>
<div class="fragment"><div class="line"><a class="code" href="struct_r_a_i_l___schedule_tx_config__t.html">RAIL_ScheduleTxConfig_t</a> nextPacketTxTime = { 1000, <a class="code" href="group___system___timing.html#gga07e1cc301108c498ac7f4fb80c369c13a83db25ac5c81b42e922da114b23e7b10">RAIL_TIME_DELAY</a> };</div>
<div class="line">txStatus = <a class="code" href="group___transmit.html#gacc7af08224e3f77a2af0f7a589030154">RAIL_TxStart</a>(channel, &amp;<a class="code" href="group___pre-_transmit.html#gac233d3f019d6653f8dfc9d2040101b88">RAIL_ScheduleTx</a>, &amp;nextPacketTxTime);</div>
</div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga723f70db2d74870534d253c57508f547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAIL_CSMA_CONFIG_802_15_4_2003_2p4_GHz_OQPSK_CSMA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                   \</div>
<div class="line">  <span class="comment">/* CSMA per 802.15.4-2003 on 2.4 GHz OSPSK, commonly used by ZigBee      */</span> \</div>
<div class="line">  <span class="comment">/* csmaMinBoExp */</span>   3, <span class="comment">/* 2^3-1 for 0..7 backoffs on 1st try            */</span> \</div>
<div class="line">  <span class="comment">/* csmaMaxBoExp */</span>   5, <span class="comment">/* 2^5-1 for 0..31 backoffs on 3rd+ tries        */</span> \</div>
<div class="line">  <span class="comment">/* csmaTries    */</span>   5, <span class="comment">/* 5 tries overall (4 re-tries)                  */</span> \</div>
<div class="line">  <span class="comment">/* ccaThreshold */</span> -75, <span class="comment">/* 10 dB above sensitivity                       */</span> \</div>
<div class="line">  <span class="comment">/* ccaBackoff   */</span> 320, <span class="comment">/* 20 symbols at 16 us/symbol                    */</span> \</div>
<div class="line">  <span class="comment">/* ccaDuration  */</span> 128, <span class="comment">/* 8 symbols at 16 us/symbol                     */</span> \</div>
<div class="line">  <span class="comment">/* csmaTimeout  */</span>   0, <span class="comment">/* no timeout                                    */</span> \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> initializer configuring CSMA per 802.15.4-2003 on 2.4 GHz OSPSK, commonly used by ZigBee. </p>

<p>Definition at line <a class="el" href="rail__types_8h_source.html#l00562">562</a> of file <a class="el" href="rail__types_8h_source.html">rail_types.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga01aa44d571fea60db1b10612ce87f086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAIL_CSMA_CONFIG_SINGLE_CCA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                         \</div>
<div class="line">  <span class="comment">/* Perform a single CCA after &#39;fixed&#39; delay                              */</span> \</div>
<div class="line">  <span class="comment">/* csmaMinBoExp */</span>   0, <span class="comment">/* Used for fixed backoff                        */</span> \</div>
<div class="line">  <span class="comment">/* csmaMaxBoExp */</span>   0, <span class="comment">/* Used for fixed backoff                        */</span> \</div>
<div class="line">  <span class="comment">/* csmaTries    */</span>   1, <span class="comment">/* Single try                                    */</span> \</div>
<div class="line">  <span class="comment">/* ccaThreshold */</span> -75, <span class="comment">/* Override if not desired choice                */</span> \</div>
<div class="line">  <span class="comment">/* ccaBackoff   */</span>   0, <span class="comment">/* No backoff (override with fixed value)        */</span> \</div>
<div class="line">  <span class="comment">/* ccaDuration  */</span> 128, <span class="comment">/* Override if not desired length                */</span> \</div>
<div class="line">  <span class="comment">/* csmaTimeout  */</span>   0, <span class="comment">/* no timeout                                    */</span> \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p><a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> initializer configuring a single CCA prior to Tx. </p>
<p>Can be used to as a basis for implementing other channel access schemes with custom backoff delays. User can override ccaBackoff with a fixed delay on each use. </p>

<p>Definition at line <a class="el" href="rail__types_8h_source.html#l00580">580</a> of file <a class="el" href="rail__types_8h_source.html">rail_types.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab19d74918a167aaeb17de9f5c54cea57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAIL_LBT_CONFIG_ETSI_EN_300_220_1_V2_4_1</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                            \</div>
<div class="line">  <span class="comment">/* LBT per ETSI 300 220-1 V2.4.1                                         */</span> \</div>
<div class="line">  <span class="comment">/* LBT time = random backoff of 0-5ms in 0.5ms increments plus 5ms fixed */</span> \</div>
<div class="line">  <span class="comment">/* lbtMinBoRand */</span>     0, <span class="comment">/*                                             */</span> \</div>
<div class="line">  <span class="comment">/* lbtMaxBoRand */</span>    10, <span class="comment">/*                                             */</span> \</div>
<div class="line">  <span class="comment">/* lbtTries     */</span> <a class="code" href="group___pre-_transmit.html#gad94172cf1b18d35919be1fc67d4ef505">RAIL_MAX_LBT_TRIES</a>, <span class="comment">/* the maximum supported          */</span> \</div>
<div class="line">  <span class="comment">/* lbtThreshold */</span>   -87, <span class="comment">/*                                             */</span> \</div>
<div class="line">  <span class="comment">/* lbtBackoff   */</span>   500, <span class="comment">/* 0.5 ms                                      */</span> \</div>
<div class="line">  <span class="comment">/* lbtDuration  */</span>  5000, <span class="comment">/* 5 ms                                        */</span> \</div>
<div class="line">  <span class="comment">/* lbtTimeout   */</span>     0, <span class="comment">/* no timeout (recommend user override)        */</span> \</div>
<div class="line">}</div>
<div class="ttc" id="group___pre-_transmit_html_gad94172cf1b18d35919be1fc67d4ef505"><div class="ttname"><a href="group___pre-_transmit.html#gad94172cf1b18d35919be1fc67d4ef505">RAIL_MAX_LBT_TRIES</a></div><div class="ttdeci">#define RAIL_MAX_LBT_TRIES</div><div class="ttdoc">The maximum number of LBT/CSMA retries supported. </div><div class="ttdef"><b>Definition:</b> <a href="rail__types_8h_source.html#l00508">rail_types.h:508</a></div></div>
</div><!-- fragment -->
<p><a class="el" href="struct_r_a_i_l___lbt_config__t.html" title="This structure is used to configure the LBT algorithm. ">RAIL_LbtConfig_t</a> initializer configuring LBT per ETSI 300 220-1 V2.4.1 for a typical Sub-GHz band. </p>
<p>To be practical, user should override lbtTries and/or lbtTimeout so channel access failure will be reported in a reasonable timeframe rather than the unbounded timeframe ETSI defined. </p>

<p>Definition at line <a class="el" href="rail__types_8h_source.html#l00647">647</a> of file <a class="el" href="rail__types_8h_source.html">rail_types.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7ee3e9d4bde55e579f122304a6ff57e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RAIL_CcaCsma </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use CSMA instead of ignoring current usage of the channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>A pointer to the <a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> structure containing the CSMA parameters to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Returns 0 on success and anything else on error.</dd></dl>
<p>A RAIL_PreTxOp_t function that performs the CSMA algorithm when specified within a <a class="el" href="group___transmit.html#gacc7af08224e3f77a2af0f7a589030154" title="Non-blocking Transmit. ">RAIL_TxStart()</a> transmit operation. Packets can be received during CSMA backoff periods if receive is active throughout the CSMA process. This will happen either by starting the CSMA process while receive is already active, or if the ccaBackoff time in the <a class="el" href="struct_r_a_i_l___csma_config__t.html" title="This structure is used to configure the CSMA algorithm. ">RAIL_CsmaConfig_t</a> is less than the idleToRx time (set by RAIL_SetStateTimings). If the ccaBackoff time is greater than the idleToRx time, then receive will only be active during the clear channel assessments. </p>

</div>
</div>
<a class="anchor" id="ga3ddf1f3ab8cad54abe9ae7d22f278fa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RAIL_CcaLbt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Listen to the channel before sending a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>A pointer to the <a class="el" href="struct_r_a_i_l___lbt_config__t.html" title="This structure is used to configure the LBT algorithm. ">RAIL_LbtConfig_t</a> structure containing the LBT parameters to use. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 on success and anything else on error.</dd></dl>
<p>A RAIL_PreTxOp_t function that performs the LBT algorithm when specified within a <a class="el" href="group___transmit.html#gacc7af08224e3f77a2af0f7a589030154" title="Non-blocking Transmit. ">RAIL_TxStart()</a> transmit operation. Packets can be received during CSMA backoff periods if receive is active throughout the LBT process. This will happen either by starting the LBT process while receive is already active, or if the lbtBackoff time in the <a class="el" href="struct_r_a_i_l___lbt_config__t.html" title="This structure is used to configure the LBT algorithm. ">RAIL_LbtConfig_t</a> is less than the idleToRx time (set by RAIL_SetStateTimings). If the lbtBackoff time is greater than the idleToRx time, then receive will only be active during the clear channel assessments. </p>

</div>
</div>
<a class="anchor" id="gac233d3f019d6653f8dfc9d2040101b88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RAIL_ScheduleTx </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a packet on a schedule, instead of immediately. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>A pointer to the <a class="el" href="struct_r_a_i_l___schedule_tx_config__t.html" title="This structure is used to configure the Scheduled Tx algorithm. ">RAIL_ScheduleTxConfig_t</a> structure containing when the transmit should occur. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Returns 0 on success and anything else on error.</dd></dl>
<p>A RAIL_PreTxOp_t function that schedules the transmit to occur at the specified absolute or relative time within a <a class="el" href="group___transmit.html#gacc7af08224e3f77a2af0f7a589030154" title="Non-blocking Transmit. ">RAIL_TxStart()</a> transmit operation. If RAIL is receiving a packet at the scheduled time, the transmit will be delayed until after the packet is received. To guarantee the time of the outgoing transmit, only call this function while the radio is idle. </p>

</div>
</div>
<a class="anchor" id="ga38cf04e1e8ef9ea4107c07b4c4b4900d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_SetCcaThreshold </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>ccaThresholdDbm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the CCA threshold in dBm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ccaThresholdDbm</td><td>CCA threshold in dBm. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___general.html#ggae0d330e2daabbf1988161b4bba1ddef3a9d08f2cf4b5a12507982c72d5b896a02">RAIL_STATUS_NO_ERROR</a> on success.</dd></dl>
<p>A RAIL_PreTxOp_t function will normally set CCA threshold, assuming it is enabled either in LBT or CSMA mode. Unlike RAIL_CcaCsma and RAIL_CcaLbt, which are called as RAIL_PreTxOp_t functions, this function only modifies CCA threshold. A possible usecase for this function is to set CCA threshold to invalid RSSI of -128 which disables transmission by canceling the current CCA check. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Apr 7 2017 16:17:14 for RAIL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
