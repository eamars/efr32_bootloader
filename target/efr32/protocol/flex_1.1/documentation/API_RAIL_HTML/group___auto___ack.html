<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>RAIL: Auto_Ack</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RAIL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___auto___ack.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Auto_Ack<div class="ingroups"><a class="el" href="group___r_a_i_l___a_p_i.html">RAIL_API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>APIs for configuring Auto-Ack functionality.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___auto_ack_config__t.html">RAIL_AutoAckConfig_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to configure the Auto Ack algorithm.  <a href="struct_r_a_i_l___auto_ack_config__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___auto_ack_data__t.html">RAIL_AutoAckData_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to define the data to use during auto acknowledgement.  <a href="struct_r_a_i_l___auto_ack_data__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga4a5e970f6572823629e202718333016c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4a5e970f6572823629e202718333016c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga4a5e970f6572823629e202718333016c">RAIL_AUTOACK_MAX_LENGTH</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:ga4a5e970f6572823629e202718333016c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledgement packets cannot be longer than 64 bytes. <br/></td></tr>
<tr class="separator:ga4a5e970f6572823629e202718333016c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf517347de529ac14169277f1cb43ecb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gaf517347de529ac14169277f1cb43ecb2">RAIL_AutoAckDisable</a> (void)</td></tr>
<tr class="memdesc:gaf517347de529ac14169277f1cb43ecb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable Automatic Acknowledgement.  <a href="#gaf517347de529ac14169277f1cb43ecb2">More...</a><br/></td></tr>
<tr class="separator:gaf517347de529ac14169277f1cb43ecb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac101562ad5098bf87f6b88dfc2636a79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gac101562ad5098bf87f6b88dfc2636a79">RAIL_AutoAckIsEnabled</a> (void)</td></tr>
<tr class="memdesc:gac101562ad5098bf87f6b88dfc2636a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the enable status of the auto ack feature.  <a href="#gac101562ad5098bf87f6b88dfc2636a79">More...</a><br/></td></tr>
<tr class="separator:gac101562ad5098bf87f6b88dfc2636a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35f75fb2f8745fabb1b385bf321ae50f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga35f75fb2f8745fabb1b385bf321ae50f">RAIL_AutoAckConfig</a> (<a class="el" href="struct_r_a_i_l___auto_ack_config__t.html">RAIL_AutoAckConfig_t</a> *config)</td></tr>
<tr class="memdesc:ga35f75fb2f8745fabb1b385bf321ae50f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure and enable Auto Acknowledgement.  <a href="#ga35f75fb2f8745fabb1b385bf321ae50f">More...</a><br/></td></tr>
<tr class="separator:ga35f75fb2f8745fabb1b385bf321ae50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd06168182e01b5a25b0dd818bd0b88c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gacd06168182e01b5a25b0dd818bd0b88c">RAIL_AutoAckLoadBuffer</a> (<a class="el" href="struct_r_a_i_l___auto_ack_data__t.html">RAIL_AutoAckData_t</a> *ackData)</td></tr>
<tr class="memdesc:gacd06168182e01b5a25b0dd818bd0b88c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load Auto Ack buffer with ack data.  <a href="#gacd06168182e01b5a25b0dd818bd0b88c">More...</a><br/></td></tr>
<tr class="separator:gacd06168182e01b5a25b0dd818bd0b88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace4a05268e926a34461f619c8400facb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gace4a05268e926a34461f619c8400facb">RAIL_AutoAckRxPause</a> (void)</td></tr>
<tr class="memdesc:gace4a05268e926a34461f619c8400facb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause RX Auto Ack functionality.  <a href="#gace4a05268e926a34461f619c8400facb">More...</a><br/></td></tr>
<tr class="separator:gace4a05268e926a34461f619c8400facb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0528e52fe54a8eb2e919a04dd9f9385b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga0528e52fe54a8eb2e919a04dd9f9385b">RAIL_AutoAckRxResume</a> (void)</td></tr>
<tr class="memdesc:ga0528e52fe54a8eb2e919a04dd9f9385b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume Rx Auto Ack functionality.  <a href="#ga0528e52fe54a8eb2e919a04dd9f9385b">More...</a><br/></td></tr>
<tr class="separator:ga0528e52fe54a8eb2e919a04dd9f9385b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga030b96a9c2c2dc31383f8c79460d53bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga030b96a9c2c2dc31383f8c79460d53bc">RAIL_AutoAckRxIsPaused</a> (void)</td></tr>
<tr class="memdesc:ga030b96a9c2c2dc31383f8c79460d53bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if Rx Auto Ack is paused.  <a href="#ga030b96a9c2c2dc31383f8c79460d53bc">More...</a><br/></td></tr>
<tr class="separator:ga030b96a9c2c2dc31383f8c79460d53bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb691564871ad8d9073741ff2c33fcee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gafb691564871ad8d9073741ff2c33fcee">RAIL_AutoAckTxResume</a> (void)</td></tr>
<tr class="memdesc:gafb691564871ad8d9073741ff2c33fcee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume Tx Auto Ack functionality.  <a href="#gafb691564871ad8d9073741ff2c33fcee">More...</a><br/></td></tr>
<tr class="separator:gafb691564871ad8d9073741ff2c33fcee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad380710f2a0f25fc761eb95c28c82749"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gad380710f2a0f25fc761eb95c28c82749">RAIL_AutoAckTxPause</a> (void)</td></tr>
<tr class="memdesc:gad380710f2a0f25fc761eb95c28c82749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause TX Auto Ack functionality.  <a href="#gad380710f2a0f25fc761eb95c28c82749">More...</a><br/></td></tr>
<tr class="separator:gad380710f2a0f25fc761eb95c28c82749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3017b9559098f21002abf0d29419dd6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga3017b9559098f21002abf0d29419dd6e">RAIL_AutoAckTxIsPaused</a> (void)</td></tr>
<tr class="memdesc:ga3017b9559098f21002abf0d29419dd6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if Tx Auto Ack is paused.  <a href="#ga3017b9559098f21002abf0d29419dd6e">More...</a><br/></td></tr>
<tr class="separator:ga3017b9559098f21002abf0d29419dd6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d67cbc54c8ac1b9c1ecf640d14e018c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga9d67cbc54c8ac1b9c1ecf640d14e018c">RAIL_AutoAckUseTxBuffer</a> (void)</td></tr>
<tr class="memdesc:ga9d67cbc54c8ac1b9c1ecf640d14e018c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modify the upcoming ack to use the TX Buffer.  <a href="#ga9d67cbc54c8ac1b9c1ecf640d14e018c">More...</a><br/></td></tr>
<tr class="separator:ga9d67cbc54c8ac1b9c1ecf640d14e018c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga589a3e8ebf6f0038d0420b3d7d19a02d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga589a3e8ebf6f0038d0420b3d7d19a02d">RAIL_AutoAckCancelAck</a> (void)</td></tr>
<tr class="memdesc:ga589a3e8ebf6f0038d0420b3d7d19a02d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the upcoming ack.  <a href="#ga589a3e8ebf6f0038d0420b3d7d19a02d">More...</a><br/></td></tr>
<tr class="separator:ga589a3e8ebf6f0038d0420b3d7d19a02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf396a328e59756b5b036d6d63003ce3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#gaf396a328e59756b5b036d6d63003ce3c">RAIL_AutoAckWaitingForAck</a> (void)</td></tr>
<tr class="memdesc:gaf396a328e59756b5b036d6d63003ce3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if the radio is currently waiting for an ack.  <a href="#gaf396a328e59756b5b036d6d63003ce3c">More...</a><br/></td></tr>
<tr class="separator:gaf396a328e59756b5b036d6d63003ce3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d1243e2d65e45b96e2e9e3dc5f104fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___auto___ack.html#ga3d1243e2d65e45b96e2e9e3dc5f104fa">RAILCb_RxAckTimeout</a> (void)</td></tr>
<tr class="memdesc:ga3d1243e2d65e45b96e2e9e3dc5f104fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback that notifies the application when searching for an ACK has timed out.  <a href="#ga3d1243e2d65e45b96e2e9e3dc5f104fa">More...</a><br/></td></tr>
<tr class="separator:ga3d1243e2d65e45b96e2e9e3dc5f104fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>APIs for configuring Auto-Ack functionality. </p>
<p>These APIs are used to configure the radio for auto acknowledgement features. Auto ack inherently changes how the underlying state machine behaves so users should not modify <a class="el" href="group___general.html#ga521c7c029e1695b28ce3c22319c49438" title="Configure RAIL automatic state transitions after RX. ">RAIL_SetRxTransitions()</a> and <a class="el" href="group___general.html#gae366d52d4ac8163e9551199edc8d0afb" title="Configure RAIL automatic state transitions after TX. ">RAIL_SetTxTransitions()</a> while using auto ack features.</p>
<div class="fragment"><div class="line"><span class="comment">// Go to RX after ack operation, 100 us idle-&gt;rx/tx,</span></div>
<div class="line"><span class="comment">// 192 us rx-&gt;tx/tx-&gt;rx, 1000 us ack timeout</span></div>
<div class="line"><a class="code" href="struct_r_a_i_l___auto_ack_config__t.html">RAIL_AutoAckConfig_t</a> autoAckConfig = { <a class="code" href="group___general.html#ggac15e22c67d9646e2d577a237686c9942ad6d1d63238187dd8a8d47b4453e3f046">RAIL_RF_STATE_RX</a>, 100, 192, 1000};</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status = <a class="code" href="group___auto___ack.html#ga35f75fb2f8745fabb1b385bf321ae50f">RAIL_AutoAckConfig</a>(&amp;autoAckConfig);</div>
<div class="line"></div>
<div class="line">uint8_t ackPayload[] = {0x05, 0x02, 0x10, 0x00};</div>
<div class="line"><a class="code" href="struct_r_a_i_l___auto_ack_data__t.html">RAIL_AutoAckData_t</a> ackData = {ackPayload, <span class="keyword">sizeof</span>(ackPayload)};</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status = <a class="code" href="group___auto___ack.html#gacd06168182e01b5a25b0dd818bd0b88c">RAIL_AutoAckLoadBuffer</a>(&amp;ackData);</div>
</div><!-- fragment --><p>The acknowledgement will transmit based on the frame format configured via the Radio Configurator. For example, if the frame format is using a variable length scheme, the ack will be sent according to that scheme. If a 10 byte packet is loaded into the ack, but the variable length field of the ack payload specifies a length of 5, only 5 bytes will transmit for the ack. The converse is also true, if the frame length is configured to be a fixed 10 byte packet but only 5 bytes are loaded into the ack buffer then a TX underflow will occur during the ack transmit.</p>
<p>When auto ack is enabled, the default operation is to transmit the ack after a receive and wait for an ack after a transmit. After the ack operation completes, the radio will transition to the configured defaultState. If there is a desire to not auto acknowledge a series of packets after transmit or receive, call <a class="el" href="group___auto___ack.html#gad380710f2a0f25fc761eb95c28c82749" title="Pause TX Auto Ack functionality. ">RAIL_AutoAckTxPause()</a> and <a class="el" href="group___auto___ack.html#gace4a05268e926a34461f619c8400facb" title="Pause RX Auto Ack functionality. ">RAIL_AutoAckRxPause()</a>. When auto acking is paused, after successfully receiving or transmitting a packet, the radio will transition to the defaultState. To get out of a paused state and resume auto acking, call <a class="el" href="group___auto___ack.html#gafb691564871ad8d9073741ff2c33fcee" title="Resume Tx Auto Ack functionality. ">RAIL_AutoAckTxResume()</a> or <a class="el" href="group___auto___ack.html#ga0528e52fe54a8eb2e919a04dd9f9385b" title="Resume Rx Auto Ack functionality. ">RAIL_AutoAckRxResume()</a>.</p>
<p>Applications can cancel the transmission of an ack with <a class="el" href="group___auto___ack.html#ga589a3e8ebf6f0038d0420b3d7d19a02d" title="Cancel the upcoming ack. ">RAIL_AutoAckCancelAck()</a>. Conversly, applications can control if a transmit operation should wait for an ack after transmitting by using <a class="el" href="group___transmit.html#ga04da06552a824efe4552f01f6d5a25f2" title="Non-blocking Transmit with options. ">RAIL_TxStartWithOptions()</a> and populating the waitForAck field in <a class="el" href="struct_r_a_i_l___tx_options__t.html">RAIL_TxOptions_t</a>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___receive.html#gac7097f4d704df33f93bd95b5af6318d5">RAILCb_RxPacketReceived</a>(<span class="keywordtype">void</span> *rxPacketHandle)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="struct_r_a_i_l___rx_packet_info__t.html">RAIL_RxPacketInfo_t</a> rxPacketInfo = (<a class="code" href="struct_r_a_i_l___rx_packet_info__t.html">RAIL_RxPacketInfo_t</a>)rxPacketHandle;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// If we have just received an ACK, don&#39;t respond with an ACK</span></div>
<div class="line">  <span class="keywordflow">if</span> (rxPacketInfo-&gt;<a class="code" href="struct_r_a_i_l___rx_packet_info__t.html#ad0473c05e8e5fbe5e9d435152d94fd15">dataPtr</a>[2] == 0xF1)</div>
<div class="line">  {</div>
<div class="line">    <a class="code" href="group___auto___ack.html#ga589a3e8ebf6f0038d0420b3d7d19a02d">RAIL_AutoAckCancelAck</a>();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> transmitAndWaitForAck (<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="struct_r_a_i_l___tx_options__t.html">RAIL_TxOptions_t</a> txOption;</div>
<div class="line">  txOption.<a class="code" href="struct_r_a_i_l___tx_options__t.html#aae51f504dac14775d20e6638a21c1ff8">waitForAck</a> = <span class="keyword">true</span>;</div>
<div class="line">  <a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status = <a class="code" href="group___transmit.html#ga04da06552a824efe4552f01f6d5a25f2">RAIL_TxStartWithOptions</a>(0, &amp;txOption, NULL, NULL);</div>
<div class="line">}</div>
</div><!-- fragment --><p>If the ack payload is dynamic, the application must call <a class="el" href="group___auto___ack.html#gacd06168182e01b5a25b0dd818bd0b88c" title="Load Auto Ack buffer with ack data. ">RAIL_AutoAckLoadBuffer()</a> with the appropriate ack payload after the application processes the receive. RAIL can auto ack from the normal transmit buffer if <a class="el" href="group___auto___ack.html#ga9d67cbc54c8ac1b9c1ecf640d14e018c" title="Modify the upcoming ack to use the TX Buffer. ">RAIL_AutoAckUseTxBuffer()</a> is called before the radio transmits the ack. Make sure the transmit buffer contains data loaded by <a class="el" href="group___transmit.html#ga6ce6a5d8155bd6a73a10f8398e468f24" title="Load payload to transmit. ">RAIL_TxDataLoad()</a>.</p>
<p>Standards based protocols that contain auto ack functionality are normally configured in the protocol specific config function. For example, <a class="el" href="group___i_e_e_e802__15__4.html#gab6293f01985b927f898e108864ff4256" title="Initialize RAIL for IEEE802.15.4 features. ">RAIL_IEEE802154_Init()</a> provides auto ack configuration parameters in <a class="el" href="struct_r_a_i_l___i_e_e_e802154___config__t.html">RAIL_IEEE802154_Config_t</a> and should only be configured through that function. It is unadvised to call both <a class="el" href="group___i_e_e_e802__15__4.html#gab6293f01985b927f898e108864ff4256" title="Initialize RAIL for IEEE802.15.4 features. ">RAIL_IEEE802154_Init()</a> and <a class="el" href="group___auto___ack.html#ga35f75fb2f8745fabb1b385bf321ae50f" title="Configure and enable Auto Acknowledgement. ">RAIL_AutoAckConfig()</a>. However, ack modification functions are still valid to use with protocol specific acks. To cancel a IEEE 802.15.4 ack transmit, use <a class="el" href="group___auto___ack.html#ga589a3e8ebf6f0038d0420b3d7d19a02d" title="Cancel the upcoming ack. ">RAIL_AutoAckCancelAck()</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga589a3e8ebf6f0038d0420b3d7d19a02d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckCancelAck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the upcoming ack. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the ack is successfully cancelled, false if it is too late to cancel the ack or if the function call is not valid</dd></dl>
<p>This function allows the application to use cancel the upcoming automatic acknowledgement.</p>
<p>This function will only return true if the following conditions are met:</p>
<ul>
<li>Radio has not already decided to transmit the ack AND</li>
<li>Radio is either looking for sync, receiving the packet after sync or in the Rx2Tx turnaround before the ack is sent. </li>
</ul>

</div>
</div>
<a class="anchor" id="ga35f75fb2f8745fabb1b385bf321ae50f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_AutoAckConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_a_i_l___auto_ack_config__t.html">RAIL_AutoAckConfig_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure and enable Auto Acknowledgement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Auto ack config structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If autoack is successfully enabled</dd></dl>
<p>Configures the RAIL state machine to for hardware accelerated auto acknowledgement. Ack timing parameters are defined in the configuration structure.</p>
<p>While auto acking is enabled do not call the following RAIL functions:</p>
<ul>
<li><a class="el" href="group___general.html#ga521c7c029e1695b28ce3c22319c49438" title="Configure RAIL automatic state transitions after RX. ">RAIL_SetRxTransitions()</a></li>
<li><a class="el" href="group___general.html#gae366d52d4ac8163e9551199edc8d0afb" title="Configure RAIL automatic state transitions after TX. ">RAIL_SetTxTransitions()</a></li>
<li><a class="el" href="group___general.html#gacf38378f09dfeddf139f3324cf4c5648" title="Configure RAIL automatic state transition timing. ">RAIL_SetStateTiming()</a> </li>
</ul>

</div>
</div>
<a class="anchor" id="gaf517347de529ac14169277f1cb43ecb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_AutoAckDisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable Automatic Acknowledgement. </p>
<dl class="section return"><dt>Returns</dt><dd>if function successfully disabled auto acking</dd></dl>
<p>Disable auto ack functionality. All state transitions are reverted to IDLE, IDLE. </p>

</div>
</div>
<a class="anchor" id="gac101562ad5098bf87f6b88dfc2636a79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckIsEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the enable status of the auto ack feature. </p>
<dl class="section return"><dt>Returns</dt><dd>true if Auto Ack is enabled, false if disabled </dd></dl>

</div>
</div>
<a class="anchor" id="gacd06168182e01b5a25b0dd818bd0b88c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_AutoAckLoadBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_a_i_l___auto_ack_data__t.html">RAIL_AutoAckData_t</a> *&#160;</td>
          <td class="paramname"><em>ackData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load Auto Ack buffer with ack data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ackData</td><td>Pointer to ack data to transmit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___general.html#ggae0d330e2daabbf1988161b4bba1ddef3ac5576ebbf158261cb33b10f439f8ad20">RAIL_STATUS_INVALID_CALL</a> if called while ACK buffer is being used by the radio</dd></dl>
<p>If the ack buffer is available to be updated, load the ack buffer with data. </p>

</div>
</div>
<a class="anchor" id="ga030b96a9c2c2dc31383f8c79460d53bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckRxIsPaused </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if Rx Auto Ack is paused. </p>
<dl class="section return"><dt>Returns</dt><dd>true if Rx Auto Ack is paused, false if not paused </dd></dl>

</div>
</div>
<a class="anchor" id="gace4a05268e926a34461f619c8400facb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAIL_AutoAckRxPause </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause RX Auto Ack functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>When RX Auto Acking is paused, the radio will transition to the defaultState after receiving a packet and will not transmit an ack. </p>

</div>
</div>
<a class="anchor" id="ga0528e52fe54a8eb2e919a04dd9f9385b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAIL_AutoAckRxResume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume Rx Auto Ack functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>When Rx Auto Ack is resumed, the radio will resume automatically acking every successfully received packet. </p>

</div>
</div>
<a class="anchor" id="ga3017b9559098f21002abf0d29419dd6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckTxIsPaused </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if Tx Auto Ack is paused. </p>
<dl class="section return"><dt>Returns</dt><dd>true if Tx Auto Ack is paused, false if not paused </dd></dl>

</div>
</div>
<a class="anchor" id="gad380710f2a0f25fc761eb95c28c82749"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAIL_AutoAckTxPause </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause TX Auto Ack functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>When TX Auto Acking is paused, the radio will transition to the defaultState after transmitting a packet and will not wait for an ack. </p>

</div>
</div>
<a class="anchor" id="gafb691564871ad8d9073741ff2c33fcee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAIL_AutoAckTxResume </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume Tx Auto Ack functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>When Tx Auto Ack is resumed, the radio will resume automatically waiting for an ack after a successful transmit. </p>

</div>
</div>
<a class="anchor" id="ga9d67cbc54c8ac1b9c1ecf640d14e018c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckUseTxBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modify the upcoming ack to use the TX Buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the ack is modified to send from TX buffer, false if it is too late to switch to tx buffer or if the function call is not valid</dd></dl>
<p>This function allows the application to use the normal TX buffer as the data source for the upcoming ack. The ack modification to use the TX buffer only applies to one ack transmission.</p>
<p>This function will only return true if the following conditions are met:</p>
<ul>
<li>Radio has not already decided to use the ack buffer AND</li>
<li>Radio is either looking for sync, receiving the packet after sync or in the Rx2Tx turnaround before the ack is sent. </li>
</ul>

</div>
</div>
<a class="anchor" id="gaf396a328e59756b5b036d6d63003ce3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RAIL_AutoAckWaitingForAck </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return if the radio is currently waiting for an ack. </p>
<dl class="section return"><dt>Returns</dt><dd>True if radio is waiting for ack, False if radio is not waiting for an ack</dd></dl>
<p>This function allows the application to query if the radio is currently waiting for an ack after a transmit operation. </p>

</div>
</div>
<a class="anchor" id="ga3d1243e2d65e45b96e2e9e3dc5f104fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAILCb_RxAckTimeout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback that notifies the application when searching for an ACK has timed out. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This callback function is called whenever the timeout for searching for an ack is exceeded. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Apr 7 2017 16:17:15 for RAIL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
