// defines that are generated by app framework.
// Forward declarations to avoid warnings in scripted tests (usually found in
// the callback header file, that also generated by app framework).

#include "rf4ce-gdp-types.h"

#define EMBER_AF_PLUGIN_RF4CE_PROFILE_VENDOR_ID                           0xABCD
#define EMBER_AF_RF4CE_NODE_TYPE_TARGET
#define EMBER_AF_PLUGIN_RF4CE_GDP_ENHANCED_SECURITY
#define EMBER_AF_PLUGIN_RF4CE_GDP_STANDARD_SHARED_SECRET
#define EMBER_AF_PLUGIN_RF4CE_GDP_VENDOR_SPECIFIC_SECRETS
#define EMBER_AF_PLUGIN_RF4CE_GDP_POLL_SUPPORT POLL_CLIENT
#define EMBER_AF_PLUGIN_RF4CE_GDP_EXTENDED_VALIDATION

#define EMBER_AF_PLUGIN_RF4CE_GDP_PRIMARY_CLASS_NUMBER                    0x02
#define EMBER_AF_PLUGIN_RF4CE_GDP_SECONDARY_CLASS_NUMBER                  0x03
#define EMBER_AF_PLUGIN_RF4CE_GDP_TERTIARY_CLASS_NUMBER                   0x04

#define EMBER_AF_PLUGIN_RF4CE_GDP_PRIMARY_CLASS_DUPLICATE_HANDLING        0x00
#define EMBER_AF_PLUGIN_RF4CE_GDP_SECONDARY_CLASS_DUPLICATE_HANDLING      0x00
#define EMBER_AF_PLUGIN_RF4CE_GDP_TERTIARY_CLASS_DUPLICATE_HANDLING       0x00

#define EMBER_AF_PLUGIN_RF4CE_GDP_DISCOVERY_RESPONSE_LQI_THRESHOLD        0x00
#define EMBER_AF_PLUGIN_RF4CE_GDP_VENDOR_ID_FILTER                        0xFFFF
#define EMBER_AF_PLUGIN_RF4CE_GDP_MIN_CLASS_FILTER                        0x00
#define EMBER_AF_PLUGIN_RF4CE_GDP_MAX_CLASS_FILTER                        0x0E
#define EMBER_AF_PLUGIN_RF4CE_GDP_MIN_LQI_FILTER                          0x00

#define EMBER_AF_PLUGIN_RF4CE_GDP_MIN_POLLING_INTERVAL_MS                 5000
#define EMBER_AF_PLUGIN_RF4CE_GDP_MAX_POLLING_INTERVAL_MS                 60000

#define EMBER_AF_PLUGIN_RF4CE_GDP_IDENTIFICATION_CAPABILITIES             0x08

#define EMBER_AF_PLUGIN_RF4CE_GDP_APPLICATION_SPECIFIC_USER_STRING             \
  {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}

bool emberAfPluginRf4ceGdpZrc20StartConfigurationCallback(bool isOriginator,
                                                             uint8_t pairingIndex);

void emberAfPluginRf4ceGdpBindingCompleteCallback(EmberStatus status,
                                                  uint8_t pairingIndex);

void emberAfPluginRf4ceGdpZrc20BindingCompleteCallback(EmberAfRf4ceGdpBindingStatus status,
                                                       uint8_t pairingIndex);

void emberAfPluginRf4ceGdpKeyExchangeCompleteCallback(uint8_t pairingIndex);

void emberAfPluginRf4ceGdpStartValidationCallback(uint8_t pairingIndex);

void emberAfPluginRf4ceGdpIdentifyCallback(EmberAfRf4ceGdpClientNotificationIdentifyFlags flags,
                                           uint16_t timeS);

bool emberAfPluginRf4ceGdpIncomingBindProxyCallback(const EmberEUI64 sourceIeeeAddr);

bool emberAfPluginRf4ceGdpVendorSpecificKeyExchangeCallback(uint8_t initiatorVendorSpecificParam,
                                                               uint8_t *responderVendorSpecificParam,
                                                               uint8_t* sharedSecret);

void emberAfPluginRf4ceGdpHeartbeatPollingEstablishedCallback(uint8_t pairingIndex,
                                                              EmberAfRf4ceGdpHeartbeatTrigger pollingTriggers);

void emberAfPluginRf4ceGdpIdentifyClientFoundCallback(EmberAfRf4ceGdpClientNotificationIdentifyFlags flags);

// Test attributes definitions

#define EMBER_AF_RF4CE_GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_1           0x10
#define GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_1_SIZE                     2
#define GDP_ATTRIBUTE_SCALAR_TEST_1_DEFAULT                           0x5555

#define SCALAR_SETTABLE_ATTRIBUTE_TEST_1                                       \
  {EMBER_AF_RF4CE_GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_1,                        \
   GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_1_SIZE,                                  \
   (ATTRIBUTE_HAS_REMOTE_GET_ACCESS_BIT                                        \
    | ATTRIBUTE_HAS_REMOTE_SET_ACCESS_BIT),                                    \
   0}

#define EMBER_AF_RF4CE_GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_2           0x11
#define GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_2_SIZE                     2
#define GDP_ATTRIBUTE_SCALAR_TEST_2_DEFAULT                           0x6666

#define EMBER_AF_RF4CE_GDP_ATTRIBUTE_ONE_DIMENSIONAL_ARRAY_TEST       0x90
#define GDP_ATTRIBUTE_ONE_DIMENSIONAL_ARRAY_TEST_DEFAULT              0xBBBB

#define ONE_DIMENSION_ARRAYED_ATTRIBUTE_TEST                                   \
  {EMBER_AF_RF4CE_GDP_ATTRIBUTE_ONE_DIMENSIONAL_ARRAY_TEST,                    \
   GDP_ATTRIBUTE_ONE_DIMENSIONAL_ARRAY_TEST_SIZE,                              \
   (ATTRIBUTE_HAS_REMOTE_GET_ACCESS_BIT                                        \
    | ATTRIBUTE_HAS_REMOTE_SET_ACCESS_BIT),                                    \
   GDP_ATTRIBUTE_ONE_DIMENSIONAL_ARRAY_TEST_DIMENSION}

#define EMBER_AF_RF4CE_GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST       0x91
#define GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_DEFAULT              0xCCCCCCCC
#define GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_DIMENSION                     \
  (GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_FIRST_DIMENSION                    \
   | (GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_SECOND_DIMENSION << 8))

#define TWO_DIMENSION_ARRAYED_ATTRIBUTE_TEST                                   \
 {EMBER_AF_RF4CE_GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST,                     \
  GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_SIZE,                               \
  (ATTRIBUTE_HAS_REMOTE_GET_ACCESS_BIT                                         \
   | ATTRIBUTE_HAS_REMOTE_SET_ACCESS_BIT                                       \
   | ATTRIBUTE_IS_TWO_DIMENSIONAL_ARRAYED),                                    \
  GDP_ATTRIBUTE_TWO_DIMENSIONAL_ARRAY_TEST_DIMENSION}

#define SCALAR_SETTABLE_ATTRIBUTE_TEST_2                                       \
  {EMBER_AF_RF4CE_GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_2,                        \
   GDP_ATTRIBUTE_SETTABLE_SCALAR_TEST_2_SIZE,                                  \
   (ATTRIBUTE_HAS_REMOTE_GET_ACCESS_BIT                                        \
    | ATTRIBUTE_HAS_REMOTE_SET_ACCESS_BIT),                                    \
   0}

#if defined (POLLING_NEGOTIATION_PROCEDURE_CLIENT_MAX_RETIRES)
#undef POLLING_NEGOTIATION_PROCEDURE_CLIENT_MAX_RETIRES
#define POLLING_NEGOTIATION_PROCEDURE_CLIENT_MAX_RETIRES 10
#endif
