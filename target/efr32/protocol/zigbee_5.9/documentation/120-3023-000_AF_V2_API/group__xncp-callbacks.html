<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Application Framework API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td><img src="SiliconLabsLogo_Black.jpg" style="padding: 10px;width:40%;height:40%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Application Framework API Reference
   &#160;<span id="projectnumber">Application Framework V2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__xncp-callbacks.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">XNCP Library Callbacks</div>  </div>
<div class="ingroups"><a class="el" href="group__callback.html">Application Framework Callback Interface</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac216131a604de67f79983d095880ff48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xncp-callbacks.html#gac216131a604de67f79983d095880ff48">emberAfPluginXncpIncomingCustomFrameCallback</a> (uint8_t messageLength, uint8_t *messagePayload, uint8_t *replyPayloadLength, uint8_t *replyPayload)</td></tr>
<tr class="separator:gac216131a604de67f79983d095880ff48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aba86d0911746d3572705c1366201b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xncp-callbacks.html#ga5aba86d0911746d3572705c1366201b8">emberAfIncomingMessageCallback</a> (<a class="el" href="group__ember__types.html#ga42567c6bfd58e0161e3c660f99f455da">EmberIncomingMessageType</a> type, <a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *apsFrame, <a class="el" href="group__ember__types.html#gad8cef59e716103f3996ce6cb7e10b017">EmberMessageBuffer</a> message)</td></tr>
<tr class="separator:ga5aba86d0911746d3572705c1366201b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f9c317d062fb312997ffd41dc39657e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xncp-callbacks.html#ga7f9c317d062fb312997ffd41dc39657e">emberAfPluginCommandHandlerPermitNcpToHostFrameCallback</a> (uint8_t frameId, uint8_t payloadLength, uint8_t *payload)</td></tr>
<tr class="separator:ga7f9c317d062fb312997ffd41dc39657e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae72708d9e093629abee16deb095e2faf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xncp-callbacks.html#gae72708d9e093629abee16deb095e2faf">emberAfPluginCommandHandlerPermitHostToNcpFrameCallback</a> (uint8_t frameId, uint8_t payloadLength, uint8_t *payload)</td></tr>
<tr class="separator:gae72708d9e093629abee16deb095e2faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0833ab5964b27eae1313c0e9ac0d3ed0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xncp-callbacks.html#ga0833ab5964b27eae1313c0e9ac0d3ed0">emberAfPluginXncpGetXncpInformation</a> (uint16_t *manufacturerId, uint16_t *versionNumber)</td></tr>
<tr class="separator:ga0833ab5964b27eae1313c0e9ac0d3ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These callbacks are contributed by the XNCP Library plugin. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac216131a604de67f79983d095880ff48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a> emberAfPluginXncpIncomingCustomFrameCallback </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>messageLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>messagePayload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>replyPayloadLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>replyPayload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming Custom EZSP Message Callback. </p>
<p>This function is called when the NCP receives a custom EZSP message from the HOST. The message length and payload is passed to the callback in the first two arguments. The implementation can then fill in the replyPayload and set the replayPayloadLength to the number of bytes in the replyPayload. See documentation for the function ezspCustomFrame on sending these messages from the HOST.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageLength</td><td>The length of the messagePayload. </td></tr>
    <tr><td class="paramname">messagePayload</td><td>The custom message that was sent from the HOST. Ver.: always </td></tr>
    <tr><td class="paramname">replyPayloadLength</td><td>The length of the replyPayload. This needs to be set by the implementation in order for a properly formed respose to be sent back to the HOST. Ver.: always </td></tr>
    <tr><td class="paramname">replyPayload</td><td>The custom message to send back to the HOST in respose to the custom message. Ver.: always</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8" title="EmberReleaseTypeStruct Data that relates release type to the correct string.">EmberStatus</a> indicating the result of the custom message handling. This returned status is always the first byte of the EZSP response. </dd></dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l00708">708</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

<p>References <a class="el" href="error-def_8h_source.html#l01313">EMBER_LIBRARY_NOT_PRESENT</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aba86d0911746d3572705c1366201b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfIncomingMessageCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga42567c6bfd58e0161e3c660f99f455da">EmberIncomingMessageType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structEmberApsFrame.html">EmberApsFrame</a> *&#160;</td>
          <td class="paramname"><em>apsFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#gad8cef59e716103f3996ce6cb7e10b017">EmberMessageBuffer</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming Message Callback. </p>
<p>This function is called when the NCP receives an incoming ZigBee PRO message. This handling is done before any other action is taken by the NCP on the callback. If the function returns true, that indicates that the incoming message is done being handled, and the NCP does not need to record the callback or report it to the HOST.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The <a class="el" href="group__ember__types.html#ga42567c6bfd58e0161e3c660f99f455da" title="Defines the possible incoming message types.">EmberIncomingMessageType</a> of the incoming message. Ver.: always </td></tr>
    <tr><td class="paramname">apsFrame</td><td>The <a class="el" href="structEmberApsFrame.html" title="An in-memory representation of a ZigBee APS frame of an incoming or outgoing message.">EmberApsFrame</a> recieved in the incoming message. Ver.: always </td></tr>
    <tr><td class="paramname">message</td><td>The payload of the incoming message, in the form of an <a class="el" href="group__ember__types.html#gad8cef59e716103f3996ce6cb7e10b017" title="Incoming and outgoing messages are stored in buffers. These buffers are allocated and freed as needed...">EmberMessageBuffer</a>. Ver.: always</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ::bool value. If this value is true, the NCP will not handle the incoming message any futher and it will not report the incoming message to the HOST. If the returned value is false, then the NCP will continue to process the incoming message and the callback will also be passed to the HOST. </dd></dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l00737">737</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga7f9c317d062fb312997ffd41dc39657e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginCommandHandlerPermitNcpToHostFrameCallback </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>payloadLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Outgoing EZSP Stack Handler. </p>
<p>This function is called when the NCP wants to inform the HOST of a callback that has been called on the NCP. If this function returns false, the the NCP will not notify the HOST of the callback. If the function returns true, then the NCP will continue scheduling the notification of the HOST regarding the callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameId</td><td>The frameId of the callback. Ver.: always </td></tr>
    <tr><td class="paramname">payloadLength</td><td>The length of the payload carried in the callback. Ver.: always </td></tr>
    <tr><td class="paramname">payload</td><td>The actual payload carried by the callback. Ver.: always</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ::bool value. If the value is false, then the NCP will not notify the HOST of the callback. If the return value is true, then the NCP will continue scheduling the notification of the HOST regarding the callback. </dd></dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l00762">762</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="gae72708d9e093629abee16deb095e2faf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginCommandHandlerPermitHostToNcpFrameCallback </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>frameId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>payloadLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Incoming EZSP Message. </p>
<p>The application can use this callback to enable or disable the processing of EZSP commands on the NCP. If this function returns true, that indicates that the frame should be handled by the NCP in a normal manner. If this function returns false, then the NCP will disregard this command and respond to the HOST that it is an invalid frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameId</td><td>The EZSP frame ID of the message. Ver.: always </td></tr>
    <tr><td class="paramname">payloadLength</td><td>The length of the payload of the EZSP message. Ver.: always </td></tr>
    <tr><td class="paramname">payload</td><td>The EZSP message payload. Ver.: always</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A ::bool value indicating whether or not the frame should continue to be handled. If this function returns true, that indicates that the frame should be handled by the NCP in a normal manner. If this function returns false, then the NCP will disregard this command and respond to the HOST that it is an invalid frame. </dd></dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l00788">788</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga0833ab5964b27eae1313c0e9ac0d3ed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginXncpGetXncpInformation </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>manufacturerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>versionNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get XNCP Information. </p>
<p>This callback enables users to communicate the version number and manufacturer ID of their NCP application to the framework. This information is needed for the EZSP command frame called getXncpInfo. This callback will be called when that frame is received so that the application can report its version number and manufacturer ID to be sent back to the HOST.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">versionNumber</td><td>The version number of the NCP application. </td></tr>
    <tr><td class="paramname">manufacturerId</td><td>The manufacturer ID of the NCP application. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l00806">806</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<table border="0" cellspacing="0" cellpadding="0" width=100%>
<tr>
<td><address><small>
Application Framework API Reference. Application Framework V2.
</small></address>
</td>
<td align="right">
<address><small>
</small></address>
</td>
</tr>
</table>
</body>
</html>
