<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Application Framework API Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td><img src="SiliconLabsLogo_Black.jpg" style="padding: 10px;width:40%;height:40%;" /></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Application Framework API Reference
   &#160;<span id="projectnumber">Application Framework V2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__stack-callbacks.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stack API Callbacks</div>  </div>
<div class="ingroups"><a class="el" href="group__callback.html">Application Framework Callback Interface</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacccabdbc4c84f6a3997dd060f6132dfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#gacccabdbc4c84f6a3997dd060f6132dfa">emberCounterHandler</a> (<a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b">EmberCounterType</a> type, uint8_t data)</td></tr>
<tr class="separator:gacccabdbc4c84f6a3997dd060f6132dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d80fd575e35ae22a6ec6e26f9b4ba07"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga2d80fd575e35ae22a6ec6e26f9b4ba07">emberRtosIdleHandler</a> (uint32_t *idleTimeMs)</td></tr>
<tr class="separator:ga2d80fd575e35ae22a6ec6e26f9b4ba07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga739cc327ee8ebaeb0585451085b72eaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga739cc327ee8ebaeb0585451085b72eaf">emberRtosStackWakeupIsrHandler</a> (void)</td></tr>
<tr class="separator:ga739cc327ee8ebaeb0585451085b72eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac4a45063264fe1b8de41b02f6c3570f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#gaac4a45063264fe1b8de41b02f6c3570f">emberStackStatusHandler</a> (<a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a> status)</td></tr>
<tr class="separator:gaac4a45063264fe1b8de41b02f6c3570f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga285706805ac0e9be1c8e0ebc238a7e7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga285706805ac0e9be1c8e0ebc238a7e7b">emberEnergyScanResultHandler</a> (uint8_t channel, int8_t maxRssiValue)</td></tr>
<tr class="separator:ga285706805ac0e9be1c8e0ebc238a7e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81602c711b132feefd4332b03bfe6924"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stack-callbacks.html#ga81602c711b132feefd4332b03bfe6924">emberRadioNeedsCalibratingHandler</a> (void)</td></tr>
<tr class="separator:ga81602c711b132feefd4332b03bfe6924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These callbacks were contributed by the stack API. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacccabdbc4c84f6a3997dd060f6132dfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberCounterHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b">EmberCounterType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked to inform the application of the occurrence of an event defined by <a class="el" href="group__ember__types.html#ga9f972a77387b604c47eda6a63188aa3b" title="Defines the events reported to the application by the emberCounterHandler().">EmberCounterType</a>, for example, transmissions and receptions at different layers of the stack. </p>
<p>The application must define ::EMBER_APPLICATION_HAS_COUNTER_HANDLER in its CONFIGURATION_HEADER to use this. This function may be called in ISR context, so processing should be kept to a minimum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the event. </td></tr>
    <tr><td class="paramname">data</td><td>For transmission events, the number of retries used. For other events, this parameter is unused and is set to zero. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01170">1170</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga2d80fd575e35ae22a6ec6e26f9b4ba07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberRtosIdleHandler </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>idleTimeMs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback to allow the application to manage idling the MCU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idleTimeMs</td><td>The time in millisecond the stack is allowed to idle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the application is managing idling the MCU, false otherise. If this function returns false, the stack will manage idling the MCU. </dd></dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01181">1181</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga739cc327ee8ebaeb0585451085b72eaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberRtosStackWakeupIsrHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback to request the application to wake up the stack task. </p>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01188">1188</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="gaac4a45063264fe1b8de41b02f6c3570f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberStackStatusHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#gacff561a945530f3039d6715958418ab8">EmberStatus</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked when the status of the stack changes. If the status parameter equals <a class="el" href="group__status__codes.html#gae94efecd4265d484f7b01e56cce08356" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a>, then the ::emberGetNetworkParameters() function can be called to obtain the new network parameters. If any of the parameters are being stored in nonvolatile memory by the application, the stored values should be updated. </p>
<p>The application is free to begin messaging once it receives the <a class="el" href="group__status__codes.html#gae94efecd4265d484f7b01e56cce08356" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a> status. However, routes discovered immediately after the stack comes up may be suboptimal. This is because the routes are based on the neighbor table's information about two-way links with neighboring nodes, which is obtained from periodic ZigBee Link Status messages. It can take two or three link status exchange periods (of 16 seconds each) before the neighbor table has a good estimate of link quality to neighboring nodes. Therefore, the application may improve the quality of initially discovered routes by waiting after startup to give the neighbor table time to be populated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>Stack status. One of the following:<ul>
<li><a class="el" href="group__status__codes.html#gae94efecd4265d484f7b01e56cce08356" title="The stack software has completed initialization and is ready to send and receive packets over the air...">EMBER_NETWORK_UP</a></li>
<li><a class="el" href="group__status__codes.html#gadf8c20e0884530dcb19bd659378efd79" title="The network is not operating.">EMBER_NETWORK_DOWN</a></li>
<li><a class="el" href="group__status__codes.html#ga32e6f68e6013827c3f426a17d92e2015" title="An attempt to join a network failed.">EMBER_JOIN_FAILED</a></li>
<li><a class="el" href="group__status__codes.html#ga11c3ec3388ae7cc407545e654947c935" title="After moving, a mobile node&#39;s attempt to re-establish contact with the network failed.">EMBER_MOVE_FAILED</a></li>
<li><a class="el" href="group__status__codes.html#gae0dfc750a76e1996e963dda59729be68" title="An attempt to join as a router failed due to a ZigBee versus ZigBee Pro incompatibility. ZigBee devices joining ZigBee Pro networks (or vice versa) must join as End Devices, not Routers.">EMBER_CANNOT_JOIN_AS_ROUTER</a></li>
<li><a class="el" href="group__status__codes.html#ga6c1d49de7fbf18110b7176aa121e7268" title="The local node ID has changed. The application can obtain the new node ID by calling ::emberGetNodeId...">EMBER_NODE_ID_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ga35dab0ab987c2ef84390f1fef8b13f71" title="The local PAN ID has changed. The application can obtain the new PAN ID by calling ::emberGetPanId()...">EMBER_PAN_ID_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ga59c5655bc09b28608695e214a2ce3e8a" title="The channel has changed.">EMBER_CHANNEL_CHANGED</a></li>
<li><a class="el" href="group__status__codes.html#ga07732016572fd7a279ce33424af1a010" title="An attempt to join or rejoin the network failed because no router beacons could be heard by the joini...">EMBER_NO_BEACONS</a></li>
<li><a class="el" href="group__status__codes.html#ga0bd0903cb4b1bb18b9776054dc972286" title="An attempt was made to join a Secured Network using a pre-configured key, but the Trust Center sent b...">EMBER_RECEIVED_KEY_IN_THE_CLEAR</a></li>
<li><a class="el" href="group__status__codes.html#gada4c6b8ca26c013305207488310079eb" title="An attempt was made to join a Secured Network, but the device did not receive a Network Key...">EMBER_NO_NETWORK_KEY_RECEIVED</a></li>
<li><a class="el" href="group__status__codes.html#gade57ded18a03caef55e31d04b09ccbdb" title="After a device joined a Secured Network, a Link Key was requested (EMBER_GET_LINK_KEY_WHEN_JOINING) b...">EMBER_NO_LINK_KEY_RECEIVED</a></li>
<li><a class="el" href="group__status__codes.html#gad297080e4a535e7285e3882604990da2" title="An attempt was made to join a Secured Network without a pre-configured key, but the Trust Center sent...">EMBER_PRECONFIGURED_KEY_REQUIRED</a> </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01226">1226</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga285706805ac0e9be1c8e0ebc238a7e7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberEnergyScanResultHandler </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>maxRssiValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports the maximum RSSI value measured on the channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The 802.15.4 channel number on which the RSSI value was measured.</td></tr>
    <tr><td class="paramname">maxRssiValue</td><td>The maximum RSSI value measured (in units of dBm). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01238">1238</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
<a class="anchor" id="ga81602c711b132feefd4332b03bfe6924"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberRadioNeedsCalibratingHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The radio calibration callback function. </p>
<p>The Voltage Controlled Oscillator (VCO) can drift with temperature changes. During every call to ::emberTick(), the stack will check to see if the VCO has drifted. If the VCO has drifted, the stack will call <a class="el" href="group__stack-callbacks.html#ga81602c711b132feefd4332b03bfe6924" title="The radio calibration callback function.">emberRadioNeedsCalibratingHandler()</a> to inform the application that it should perform calibration of the current channel as soon as possible. Calibration can take up to 150ms. The default callback function implementation provided here performs calibration immediately. If the application wishes, it can define its own callback by defining ::EMBER_APPLICATION_HAS_CUSTOM_RADIO_CALIBRATION_CALLBACK in its CONFIGURATION_HEADER. It can then failsafe any critical processes or peripherals before calling ::emberCalibrateCurrentChannel(). The application must call ::emberCalibrateCurrentChannel() in response to this callback to maintain expected radio performance. </p>

<p>Definition at line <a class="el" href="ncp_2doc_2callback_8doc_source.html#l01258">1258</a> of file <a class="el" href="ncp_2doc_2callback_8doc_source.html">ncp/doc/callback.doc</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr size="1">
<table border="0" cellspacing="0" cellpadding="0" width=100%>
<tr>
<td><address><small>
Application Framework API Reference. Application Framework V2.
</small></address>
</td>
<td align="right">
<address><small>
</small></address>
</td>
</tr>
</table>
</body>
</html>
