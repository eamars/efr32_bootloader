MESSAGE("ENTER ${CMAKE_CURRENT_SOURCE_DIR}")

# get module name
GET_FILENAME_COMPONENT(LIB_NAME ${CMAKE_CURRENT_SOURCE_DIR} NAME)

SET(TARGET_SPECIFIC_INCLUDE_DIRECTORY
		${TARGET_SPECIFIC_INCLUDE_DIRECTORY}
		${CMAKE_CURRENT_SOURCE_DIR}/common/inc
		${CMAKE_CURRENT_SOURCE_DIR}/config
		${CMAKE_CURRENT_SOURCE_DIR}/plugins/inc
		${CMAKE_CURRENT_SOURCE_DIR}/si4455/inc
		${CMAKE_CURRENT_SOURCE_DIR}/si4460/inc
		${CMAKE_CURRENT_SOURCE_DIR}/si4461/inc
		${CMAKE_CURRENT_SOURCE_DIR}/si4463/inc
		${CMAKE_CURRENT_SOURCE_DIR}/si4468/inc
		)

INCLUDE_DIRECTORIES(${TARGET_SPECIFIC_INCLUDE_DIRECTORY})

# Collect all source file
FILE (GLOB SRC
		common/src/*.c
		common/src/si4x6x/*.c
		common/src/si4x55/*.c
		plugins/src/*.c
		)

# build library
ADD_LIBRARY (${LIB_NAME} ${SRC})

# forward include header files
SET(TARGET_SPECIFIC_INCLUDE_DIRECTORY ${TARGET_SPECIFIC_INCLUDE_DIRECTORY} PARENT_SCOPE)
